terraform {
  required_providers {
    azurerm = {
      source  = "hashicorp/azurerm"
      version = "~>3.0"
    }
    kubernetes = {
      source  = "hashicorp/kubernetes"
      version = "~>2.0"
    }
    random = {
      source  = "hashicorp/random"
      version = "~>3.1"
    }
  }
}

provider "azurerm" {
  features {
    key_vault {
      # Avoid forced recovery path for non-existent soft-deleted vault names
      recover_soft_deleted_key_vaults = false
    }
  }
}

provider "kubernetes" {
  host                   = "https://optscale-aks-app-h9m1bdj6.b14368d4-3bae-4c83-8ff6-9c53bfcfd791.privatelink.eastus.azmk8s.io:443"
  token                  = "<your-token>"
  cluster_ca_certificate = "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUU2RENDQXRDZ0F3SUJBZ0lRT2t6VkZXNXN4UnhKZ0RDRURrSE42VEFOQmdrcWhraUc5dzBCQVFzRkFEQU4KTVFzd0NRWURWUVFERXdKallUQWdGdzB5TlRBNE1UQXdOekk0TkROYUdBOHlNRFUxTURneE1EQTNNemcwTTFvdwpEVEVMTUFrR0ExVUVBeE1DWTJFd2dnSWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUUMvCjR6M2xBejQ0QW5Na1I5WjJzSmozUWdLZFpzeFRFd2lIaXhPREZIa3c5anZCc2RIOXhFaFZJTXlTOW12UHM5SUQKcCtvV2tiSnd0MmFzSHNyY3VLOWdwOXJqTXVlMWJya0ZRamdzbjMwYVAzTzN4WUZWYU9saEplcm5weklTMEpzNQp1TU8vajh6VEw5U0xPWnIxQ09XMVNxWHAxSHk2VmovR0ZJVUd3STNlR3pyMmpEb1diWWZ2SU1qVTFDWUx6VWRIClRPcHZPY3FROEtaWkhFdm9kM0cySWNXZ0dMeDFlWVIzclRmeEpDSmlwV0FjZW9CNlNaYmVuR040TDRTeHJFVW4Kd0s0Qi85dDNSVXE4RmZwUTFDV1Q0NkpCZDZWZWowZVVXVFp1dWQ5M0ZIVHRzRUpGY0RCTVZUS0l3cXdPcDlaMQpxaE9DbGpZRG9EaDg0ajlZVjlmUXZERWlKL2hieWs1elNEOHozdGFJdTZvMHJXYnJPa0pvYm1EMkhVcUIxcWl4CnRtK29oWVcvRlh2K0tKWCtrUENpQXBxRmlzUEUxZlJqbDVKcnN6RHJvMm9MMFZJMXBHTXhZb2Zpa2xodzhwL0UKMmlVZGo0RnZ0cDAwTUZQQkNLbmNaOEVROXowUmlFaWlzYlZUcStzdTNnY1ZnK3QzRElIcGhFdm92WDcyYjBTMApwM3ExNkdrb3U2dmdYaW43eUwrVDR1N0VUOWxvU0FKaUYxeU5yZ2MwV29RWWcwYVgvRURhR0E4VWlCZWo3SzgwCnlVQlBZNWdUQXMxUmRtUnhPbjB6WkxOWks1M0Vac2NBMkw2ZUVvdTNFOW9UYktSWTRoSnBPWEZqRG15VjlXbXIKdUtndi96cU54Z1cvZURmZHVTYjBqUHVHTHFOMGlIbVVJRjRhS0o4MWdRSURBUUFCbzBJd1FEQU9CZ05WSFE4QgpBZjhFQkFNQ0FxUXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QWRCZ05WSFE0RUZnUVVuRGlKYUx4OC9TWlJIUnhmCmJQSFBFNVE1ZW8wd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dJQkFERTdxSTdqalpBZXd3a0dVV2U3dlBaU1MyUGYKZUlSNHJFeDZHcExHNENnT2FMdE4vV0wrZnpZYTlTMVEvZDNoZElhQS9JZ1dwVnpQSnYrV1dNSnJmc2ExNGsxTwpXL1V0OU40dGxUdTRLQkZlaXdjdVFKZExHY0tHNHRiZzkrZWg3NUNSUW9GM0FWNFRQUTdNTy9melZrUE1xL0FjCkJnMGIvSlBnUytaTlUzVCtYVStxSGhqYmNMUy8yUUxmanhDTHh5bUVncythOWg4R1oremVnUitHYWVydDhLclMKQ2diNTYwR1Q2WHNDT1MxTHVqYWgvM0tPL0ExZzRJUUpWTFpseXQ2bTliOUJSZkFUeng4VDJGNjlNajhiVDM4MwpkV2FjUnBGeEh2TEsyaEJnWlhNMmorZ3VYMlloYkM3REd4UEErRnlHbUM0dHVkSnZUNmN3d0hmNkRBYmFXeUFMCmhtb2IySEdjL2QwWWxJWGNFZnNCRVpxY3VZclhpYVUyZ1ZkbVEzSGsyUzRmT2FFZnE0M2JqMDZDVUc0T2U1V1EKUktFSWxnR21EK1Fmd3Q3OHgzUzRRK0owdzh5QkxhZW9kZlVOMDF2V3RjcUUvSHAxVTlaNVNHY0ZtVE9CczhEMApLTWJ3OWZuU3JKcEJkZkZGY0hESjhaWk8zaysrSVZYQ0FIYXRqUmg5Uk9Iek9qS1h2OWQxU2JWbldCOUY2WFJ4CjZxS2FUSnM2bW1VMUozenJLYUxsZkdFSmpvNFFPUTluc08wcjROZnoramt6dzd1TVdQZDNPRzE3RjgwTVhFNzAKS2VuWk1nYVR1ekdHaWN5ZjhMaTBwc3NESjFOWmluaU90YmdCTmVjZTR4NGJtc0pLM3ovYWl4a0cvcTNVbGdiOQovMHdFZi8zQXliSDhHNWE0Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
}
